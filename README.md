# Onstage

> AI-powered fashion content generation platform for apparel brands

Onstage æ˜¯ä¸€æ¬¾é¢å‘æœé¥°å“ç‰Œçš„ iOS åŸç”Ÿåº”ç”¨ï¼Œå¸®åŠ©å“ç‰Œè¿è¥/è®¾è®¡/ç¾å·¥å›¢é˜Ÿä½¿ç”¨ AI å¿«é€Ÿç”Ÿæˆé«˜è´¨é‡çš„è¥é”€å†…å®¹ã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### Chat Tab - å¯¹è¯å¼ AI Agent
- è‡ªç„¶è¯­è¨€äº¤äº’ï¼Œç†è§£å¤æ‚æŒ‡ä»¤
- å›¾ç‰‡ä¸Šä¼ æ”¯æŒï¼Œå¤šå›¾æ ‡è®°ï¼ˆå›¾1ã€å›¾2ï¼‰
- Action Bar å¿«æ·æ“ä½œï¼šæ¢æ­é…ã€æ¢æ¨¡ç‰¹ã€å¤åˆ»å‚è€ƒå›¾
- GUI è¾“å…¥åŒºï¼Œç²¾ç¡®æ§åˆ¶ç”Ÿæˆå‚æ•°
- æ™ºèƒ½æ­é…å¸ˆ Toolï¼Œæä¾›ä¸“ä¸šæ­é…å»ºè®®

### Shoot Room Tab - ä¸“ä¸šæ‹æ‘„å®¤
- å¯è§†åŒ–åœºæ™¯ç¼–è¾‘
- å…‰çº¿æ§åˆ¶å™¨ï¼ˆä½ç½®ã€æ–¹å‘ã€å¼ºåº¦ï¼‰
- æœºä½æ§åˆ¶å™¨ï¼ˆä½ç½®ã€è§†è§’ã€ç„¦è·ï¼‰
- å®æ—¶é¢„è§ˆç„¦è·æ•ˆæœ
- ä¿å­˜/åŠ è½½æ‹æ‘„é…ç½®

### èµ„äº§ç®¡ç†
- æ¨¡ç‰¹åº“ã€å•†å“åº“ã€åœºæ™¯åº“
- ç”Ÿæˆå†å²ç®¡ç†
- æ ‡ç­¾åˆ†ç±»ç³»ç»Ÿ

## ğŸ— æŠ€æœ¯æ¶æ„

### åç«¯ (Node.js + TypeScript)
```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/          # API è·¯ç”±
â”‚   â”œâ”€â”€ agent/        # AI Agent æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ orchestrator.ts  # Agent è°ƒåº¦å™¨
â”‚   â”‚   â”œâ”€â”€ tools/    # Agent Tools
â”‚   â”‚   â””â”€â”€ prompts/  # Prompt æ¨¡æ¿
â”‚   â”œâ”€â”€ services/     # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ db/           # æ•°æ®åº“ Schema
â”‚   â”œâ”€â”€ lib/          # å·¥å…·åº“
â”‚   â””â”€â”€ middleware/   # ä¸­é—´ä»¶
```

### iOS å®¢æˆ·ç«¯ (Swift + SwiftUI)
```
ios/Onstage/Sources/
â”œâ”€â”€ App/              # åº”ç”¨å…¥å£
â”œâ”€â”€ Domain/           # é¢†åŸŸæ¨¡å‹
â”œâ”€â”€ Data/             # æ•°æ®å±‚
â”‚   â”œâ”€â”€ Network/      # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ Local/        # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ Repositories/ # æ•°æ®ä»“åº“
â””â”€â”€ Presentation/     # UI å±‚
    â”œâ”€â”€ Chat/         # å¯¹è¯ç•Œé¢
    â”œâ”€â”€ ShootRoom/    # æ‹æ‘„å®¤
    â”œâ”€â”€ Assets/       # èµ„äº§ç®¡ç†
    â”œâ”€â”€ Profile/      # ä¸ªäººä¸­å¿ƒ
    â””â”€â”€ Shared/       # å…±äº«ç»„ä»¶
```

## ğŸ¤– AI æ¨¡å‹é…ç½®

| ç”¨é€” | æ¨¡å‹ | è¯´æ˜ |
|------|------|------|
| Agent Thinking | `gemini-2.5-pro-preview-05-06` | Agent ä¸»å¾ªç¯æ¨ç† |
| æ­é…å¸ˆ Tool | `gemini-2.5-flash-preview-05-20` | ç”Ÿæˆæ­é…å»ºè®® |
| å›¾åƒç”Ÿæˆ | `gemini-2.0-flash-preview-image-generation` | ç”Ÿæˆæ¨¡ç‰¹å›¾ |
| å›¾åƒåˆ†æ | `gemini-2.5-flash-preview-05-20` | åˆ†æå›¾ç‰‡å†…å®¹ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 20+
- Xcode 15+
- iOS 15.0+
- Supabase è´¦æˆ·
- Google AI API Key

### åç«¯å¯åŠ¨

```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„é…ç½®

# æ•°æ®åº“è¿ç§»
npm run db:push

# å¼€å‘æ¨¡å¼å¯åŠ¨
npm run dev
```

### iOS å®¢æˆ·ç«¯

```bash
cd ios/Onstage

# ä½¿ç”¨ Xcode æ‰“å¼€é¡¹ç›®
open Package.swift

# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œæ„å»º
swift build
```

### Docker éƒ¨ç½²

```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
UpStage/
â”œâ”€â”€ backend/              # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ ios/                  # iOS å®¢æˆ·ç«¯
â”‚   â””â”€â”€ Onstage/
â”‚       â”œâ”€â”€ Sources/
â”‚       â””â”€â”€ Package.swift
â”œâ”€â”€ PRD.md               # äº§å“éœ€æ±‚æ–‡æ¡£
â”œâ”€â”€ TECHNICAL_ARCHITECTURE.md  # æŠ€æœ¯æ¶æ„æ–‡æ¡£
â”œâ”€â”€ DESIGN_SPEC.md       # è®¾è®¡è§„èŒƒæ–‡æ¡£
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

## ğŸ”§ Agent Tools

### æ­é…å¸ˆ (stylist)
åˆ†æå•†å“å›¾ç”Ÿæˆä¸“ä¸šæ­é…å»ºè®®ï¼Œè¾“å‡ºä¸­è‹±åŒè¯­ã€‚

### å›¾åƒç”Ÿæˆ (generate_model_image)
æ ¹æ®å•†å“å›¾å’Œé…ç½®ç”Ÿæˆæ¨¡ç‰¹ç©¿æ­å›¾ã€‚

### æ¢æ­é… (change_outfit)
ä¿æŒæ¨¡ç‰¹å’Œåœºæ™¯ï¼Œæ›¿æ¢æœè£…ã€‚

### æ¢æ¨¡ç‰¹ (change_model)
ä¿æŒæœè£…å’Œåœºæ™¯ï¼Œæ›¿æ¢æ¨¡ç‰¹ã€‚

### å¤åˆ»å‚è€ƒå›¾ (replicate_reference)
å‚è€ƒç›®æ ‡å›¾çš„æ„å›¾/æ°›å›´ç”Ÿæˆç±»ä¼¼æ•ˆæœã€‚

### ç¼–è¾‘å›¾ç‰‡ (edit_image)
å±€éƒ¨ç¼–è¾‘å›¾ç‰‡å†…å®¹ã€‚

## ğŸ“ API æ–‡æ¡£

å¼€å‘æ¨¡å¼ä¸‹è®¿é—® `http://localhost:3000/docs` æŸ¥çœ‹ Swagger API æ–‡æ¡£ã€‚

## ğŸ” å®‰å…¨é…ç½®

- JWT è®¤è¯
- é€Ÿç‡é™åˆ¶
- æ–‡ä»¶å¤§å°é™åˆ¶
- å®‰å…¨è¯·æ±‚å¤´

## ğŸ“„ License

Private - All rights reserved

## ğŸ‘¥ å›¢é˜Ÿ

Onstage Team





